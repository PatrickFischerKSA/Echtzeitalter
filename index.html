<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Marianumopoly â€“ Das Spielbrett</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, Arial, sans-serif;
      margin: 0;
      padding: 0;
      background: #f2f2f2;
      color: #222;
    }

    h1 {
      text-align: center;
      margin-top: 2rem;
      font-size: 2.4rem;
    }

    nav {
      text-align: center;
      margin-top: 1rem;
    }

    nav a {
      background: #5a2ca0;
      color: #fff;
      padding: 0.8rem 1.6rem;
      border-radius: 999px;
      text-decoration: none;
      font-size: 1.1rem;
    }

    nav a:hover {
      background: #7c42d0;
    }

    /* --- GAME UI (HUD) -------------------------------------------------- */

    #game-ui {
      max-width: 900px;
      margin: 2rem auto 1rem;
      padding: 1rem 1.5rem;
      background: #ffffff;
      border-radius: 12px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.08);
      font-size: 0.9rem;
    }

    #game-controls {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      margin-bottom: 1rem;
    }

    #game-controls button {
      background: #5a2ca0;
      color: #fff;
      border: none;
      border-radius: 8px;
      padding: 0.5rem 1.1rem;
      cursor: pointer;
      font-size: 0.9rem;
    }

    #game-controls button:disabled {
      opacity: 0.5;
      cursor: default;
    }

    #game-controls button:hover:enabled {
      background: #7c42d0;
    }

    #game-current {
      margin-bottom: 1rem;
      font-weight: 600;
    }

    #game-players {
      display: flex;
      flex-wrap: wrap;
      gap: 0.75rem;
      margin-bottom: 1rem;
    }

    .player-card {
      border-radius: 8px;
      padding: 0.5rem 0.75rem;
      background: #f4f4ff;
      border: 1px solid #d6d6ff;
      min-width: 140px;
    }

    .player-card.active {
      border-color: #5a2ca0;
      box-shadow: 0 0 0 2px rgba(90,44,160,0.25);
    }

    .player-name {
      font-weight: 600;
    }

    .player-money,
    .player-pos,
    .player-status {
      font-size: 0.8rem;
      opacity: 0.85;
    }

    #game-log {
      max-height: 220px;
      overflow-y: auto;
      border-radius: 8px;
      padding: 0.5rem 0.75rem;
      background: #f9fafb;
      border: 1px solid #e5e7eb;
      font-size: 0.8rem;
    }

    .log-entry {
      margin-bottom: 0.35rem;
    }

    /* --- BOARD-GRID ------------------------------------------------------ */

    .board {
      width: 90vw;
      max-width: 900px;
      margin: 2rem auto 3rem;
      display: grid;
      grid-template-columns: repeat(11, minmax(55px, 1fr));
      grid-template-rows: repeat(11, minmax(55px, 1fr));
      gap: 4px;
    }

    .board-center {
      grid-row: 2 / 11;
      grid-column: 2 / 11;
      background: radial-gradient(circle at top left, #5a2ca0, #1f2937);
      border-radius: 24px;
      box-shadow: inset 0 0 25px rgba(0,0,0,0.25);
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      color: #fff;
      font-weight: 700;
      font-size: 1.6rem;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      padding: 1rem;
      box-sizing: border-box;
    }

    .field {
      background: #fff;
      border-radius: 10px;
      border: 2px solid #333;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      padding: 4px;
      box-sizing: border-box;
      cursor: pointer;
      transition: transform 0.1s ease, box-shadow 0.1s ease;
      font-size: 0.7rem;
    }

    .field:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0,0,0,0.18);
    }

    .field-label {
      font-size: 0.65rem;
      text-transform: uppercase;
      opacity: 0.7;
    }

    .field-name {
      font-weight: 600;
      margin-top: 0.1rem;
      font-size: 0.8rem;
    }

    .corner {
      font-size: 0.9rem;
      font-weight: 700;
      align-items: center;
      justify-content: center;
      text-align: center;
    }

    /* Farbgruppen */
    .group-brown     { border-top: 12px solid #7C5C54; }
    .group-lightblue { border-top: 12px solid #A3D5FF; }
    .group-pink      { border-top: 12px solid #F2A3D5; }
    .group-orange    { border-top: 12px solid #F4B783; }
    .group-red       { border-top: 12px solid #E87272; }
    .group-yellow    { border-top: 12px solid #F8DB5C; }
    .group-green     { border-top: 12px solid #8BC996; }
    .group-darkblue  { border-top: 12px solid #2B4C7E; }

    .station   { border-top: 12px solid #4B5563; }
    .event     { border-top: 12px solid #3B82F6; }
    .dolinar   { border-top: 12px solid #DC2626; }
    .special   { border-top: 12px solid #111827; }

    footer {
      text-align: center;
      margin: 0 0 2rem;
      opacity: 0.7;
      font-size: 0.9rem;
    }

    /* MODAL (Feldbeschreibung beim Klicken) ------------------------------- */

    .modal-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.45);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 50;
    }

    .modal {
      background: #fff;
      border-radius: 16px;
      max-width: 420px;
      width: 90%;
      padding: 1.5rem 1.75rem;
      box-shadow: 0 18px 40px rgba(0,0,0,0.3);
    }

    .modal-type {
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      opacity: 0.7;
      margin-bottom: 0.25rem;
    }

    .modal-title {
      font-size: 1.1rem;
      font-weight: 700;
      margin-bottom: 0.6rem;
    }

    .modal-text {
      font-size: 0.9rem;
      line-height: 1.4;
    }

    .modal-actions {
      text-align: right;
      margin-top: 1rem;
    }

    .modal-actions button {
      background: #5a2ca0;
      color: #fff;
      border: none;
      border-radius: 8px;
      padding: 0.45rem 0.9rem;
      cursor: pointer;
      font-size: 0.85rem;
    }

    .modal-actions button:hover {
      background: #7c42d0;
    }

    @media (max-width: 800px) {
      .board {
        width: 96vw;
        grid-template-columns: repeat(11, minmax(40px, 1fr));
        grid-template-rows: repeat(11, minmax(40px, 1fr));
      }
    }
  </style>
</head>

<body>

  <h1>Marianumopoly â€“ Das Spielbrett</h1>

  <nav>
    <a href="cards.html">ðŸŽ´ Zu den Karten</a>
  </nav>

  <!-- SPIEL-HUD / GAME UI -->
  <div id="game-ui">
    <div id="game-controls">
      <button id="start-game-btn">Spiel starten</button>
      <button id="roll-btn" disabled>WÃ¼rfeln</button>
    </div>

    <div id="game-current">Klicke auf â€žSpiel startenâ€œ, um zu beginnen.</div>

    <h2>SpielerÃ¼bersicht</h2>
    <div id="game-players"></div>

    <h2>Spielverlauf</h2>
    <div id="game-log"></div>
  </div>

  <!-- SPIELBRETT -->
  <div class="board">

    <!-- Mitte -->
    <div class="board-center">
      Marianumopoly
    </div>

    <!-- UNTERE REIHE (links â†’ rechts), Reihe 11 -->
    <div class="field corner group-brown"
         style="grid-row: 11; grid-column: 1;"
         data-title="Start"
         data-type="Ecke"
         data-text="Du beginnst eine neue Runde durchs Marianum.">
      START
    </div>

    <div class="field group-brown"
         style="grid-row: 11; grid-column: 2;"
         data-title="Eingangshof"
         data-type="Ort"
         data-text="Hier beginnt der Alltag im Marianum â€“ erste Blicke, erster Eindruck.">
      <div class="field-label">Hof</div>
      <div class="field-name">Eingangshof</div>
    </div>

    <div class="field event"
         style="grid-row: 11; grid-column: 3;"
         data-title="VerspÃ¤tetes Shuttle"
         data-type="Ereignisfeld"
         data-text="Alle warten, niemand weiÃŸ warum. Ziehe eine Ereignis-Karte.">
      <div class="field-label">Ereignis</div>
      <div class="field-name">Shuttle verspÃ¤tet</div>
    </div>

    <div class="field group-brown"
         style="grid-row: 11; grid-column: 4;"
         data-title="Bussteig"
         data-type="Ort"
         data-text="Zwischen Ankommen und Wegfahren entsteht ein schmaler Raum fÃ¼r Entscheidungen.">
      <div class="field-label">Ankunft</div>
      <div class="field-name">Bussteig</div>
    </div>

    <div class="field special"
         style="grid-row: 11; grid-column: 5;"
         data-title="Kaution"
         data-type="Kosten"
         data-text="Eine kleine Unachtsamkeit â€“ eine groÃŸe Summe. Zahle eine Runde.">
      <div class="field-label">Kosten</div>
      <div class="field-name">Kaution</div>
    </div>

    <div class="field station"
         style="grid-row: 11; grid-column: 6;"
         data-title="StraÃŸenbahn"
         data-type="Station"
         data-text="Sie verbindet das Marianum mit der Stadt â€“ und vieles dazwischen.">
      <div class="field-label">Station</div>
      <div class="field-name">StraÃŸenbahn</div>
    </div>

    <div class="field group-lightblue"
         style="grid-row: 11; grid-column: 7;"
         data-title="Lehrerzimmer"
         data-type="Ort"
         data-text="Ein Raum, in dem viel Ã¼ber SchÃ¼ler gesprochen wird â€“ selten mit ihnen.">
      <div class="field-label">Lehrer</div>
      <div class="field-name">Lehrerzimmer</div>
    </div>

    <div class="field event"
         style="grid-row: 11; grid-column: 8;"
         data-title="Improvisierte Stunde"
         data-type="Ereignisfeld"
         data-text="Ein Lehrer fehlt, plÃ¶tzlich entsteht Spielraum â€“ oder neue Kontrolle. Ziehe eine Ereignis-Karte.">
      <div class="field-label">Ereignis</div>
      <div class="field-name">Impro-Stunde</div>
    </div>

    <div class="field group-lightblue"
         style="grid-row: 11; grid-column: 9;"
         data-title="Gang NordflÃ¼gel"
         data-type="Ort"
         data-text="Ein langer Gang, in dem Schritte hallen â€“ und Worte manchmal nach.">
      <div class="field-label">Gang</div>
      <div class="field-name">NordflÃ¼gel</div>
    </div>

    <div class="field group-lightblue"
         style="grid-row: 11; grid-column: 10;"
         data-title="Gang OstflÃ¼gel"
         data-type="Ort"
         data-text="Manchmal ist der Weg zwischen zwei RÃ¤umen die eigentliche Szene.">
      <div class="field-label">Gang</div>
      <div class="field-name">OstflÃ¼gel</div>
    </div>

    <div class="field corner special"
         style="grid-row: 11; grid-column: 11;"
         data-title="Nachsitzen"
         data-type="Ecke"
         data-text="Du gehst direkt ins Nachsitzen â€“ keine 200 â‚¬ bei Start.">
      NACH<br>SITZEN
    </div>

    <!-- RECHTE SEITE (unten â†’ oben), Spalte 11 -->
    <div class="field dolinar"
         style="grid-row: 10; grid-column: 11;"
         data-title="Dolinars Klassenzimmer"
         data-type="Dolinar-Feld"
         data-text="Der Raum, in dem Worte zur Waffe werden kÃ¶nnen. Ziehe eine Dolinar-Karte.">
      <div class="field-label">Dolinar</div>
      <div class="field-name">Klassenzimmer</div>
    </div>

    <div class="field group-red"
         style="grid-row: 9; grid-column: 11;"
         data-title="Der Blick im Gang"
         data-type="Szene"
         data-text="Der Blick im Gang sagt oft mehr als jede Bemerkung im Heft.">
      <div class="field-label">Szene</div>
      <div class="field-name">Der Blick</div>
    </div>

    <div class="field group-red"
         style="grid-row: 8; grid-column: 11;"
         data-title="Sportfest"
         data-type="Szene"
         data-text="Auf dem groÃŸen Platz mischen sich KÃ¶rper, Ehrgeiz und Blicke â€“ nicht alle freiwillig.">
      <div class="field-label">Szene</div>
      <div class="field-name">Sportfest</div>
    </div>

    <div class="field station"
         style="grid-row: 7; grid-column: 11;"
         data-title="Busparkplatz"
         data-type="Station"
         data-text="Hier startet die Busfahrt zum Skikurs â€“ eine Reise Ã¼ber Ã¤uÃŸere und innere Grenzen.">
      <div class="field-label">Station</div>
      <div class="field-name">Busparkplatz</div>
    </div>

    <div class="field group-yellow"
         style="grid-row: 6; grid-column: 11;"
         data-title="Hallenbad"
         data-type="Ort"
         data-text="Der Raum verstÃ¤rkt GerÃ¤usche â€“ und Blicke. Niemand bleibt unsichtbar.">
      <div class="field-label">Sport</div>
      <div class="field-name">Hallenbad</div>
    </div>

    <div class="field event"
         style="grid-row: 5; grid-column: 11;"
         data-title="Busfahrt zum Skikurs"
         data-type="Ereignisfeld"
         data-text="Till und Georg reden im Bus Ã¼ber Spiele, Lehrer und Macht. Ziehe eine Ereignis-Karte.">
      <div class="field-label">Ereignis</div>
      <div class="field-name">Skibus</div>
    </div>

    <div class="field group-yellow"
         style="grid-row: 4; grid-column: 11;"
         data-title="Sporthalle"
         data-type="Ort"
         data-text="Zwischen TribÃ¼ne, Linien und Pfeifen entsteht ein eigener Rhythmus von Erfolg und Scham.">
      <div class="field-label">Sport</div>
      <div class="field-name">Sporthalle</div>
    </div>

    <div class="field special"
         style="grid-row: 3; grid-column: 11;"
         data-title="Internatsbeitrag"
         data-type="Kosten"
         data-text="Du zahlst fÃ¼r Extras, die vielleicht gar nicht nach dir gefragt haben.">
      <div class="field-label">Kosten</div>
      <div class="field-name">Internatsbeitrag</div>
    </div>

    <div class="field corner group-green"
         style="grid-row: 2; grid-column: 11;"
         data-title="Frei-Hof"
         data-type="Ecke"
         data-text="Ein kurzer Schritt auÃŸerhalb des Systems â€“ du atmest durch.">
      FREI-HOF
    </div>

    <!-- OBERE REIHE (rechts â†’ links), Reihe 1 -->
    <div class="field group-darkblue"
         style="grid-row: 1; grid-column: 11;"
         data-title="Bibliothek"
         data-type="Ort"
         data-text="Zwischen Regalen beruhigt sich dein Atem, die Welt wird leiser â€“ und genauer.">
      <div class="field-label">Ort</div>
      <div class="field-name">Bibliothek</div>
    </div>

    <div class="field group-darkblue"
         style="grid-row: 1; grid-column: 10;"
         data-title="Musikzimmer"
         data-type="Ort"
         data-text="Ein Raum voller Klang, in dem sich vieles anders anfÃ¼hlt.">
      <div class="field-label">Ort</div>
      <div class="field-name">Musikzimmer</div>
    </div>

    <div class="field event"
         style="grid-row: 1; grid-column: 9;"
         data-title="Stille in der Bibliothek"
         data-type="Ereignisfeld"
         data-text="Manchmal ist die Stille lauter als jede Bemerkung. Ziehe eine Ereignis-Karte.">
      <div class="field-label">Ereignis</div>
      <div class="field-name">Stille</div>
    </div>

    <div class="field group-green"
         style="grid-row: 1; grid-column: 8;"
         data-title="Waldweg zur Mauer"
         data-type="Ort"
         data-text="Der Weg zur Grenze â€“ ein Ort fÃ¼r Gedanken, die im Internat keinen Platz haben.">
      <div class="field-label">Weg</div>
      <div class="field-name">Waldweg</div>
    </div>

    <div class="field group-green"
         style="grid-row: 1; grid-column: 7;"
         data-title="Innenhof"
         data-type="Ort"
         data-text="Zwischen den GebÃ¤uden entsteht ein eigener Kosmos â€“ Beobachtungen, GesprÃ¤che, Blicke.">
      <div class="field-label">Hof</div>
      <div class="field-name">Innenhof</div>
    </div>

    <div class="field station"
         style="grid-row: 1; grid-column: 6;"
         data-title="Shuttle-Haltestelle"
         data-type="Station"
         data-text="Das Shuttle verbindet Internat und Stadt. Ein Ort fÃ¼r ÃœbergÃ¤nge â€“ und AusweichmanÃ¶ver.">
      <div class="field-label">Station</div>
      <div class="field-name">Shuttle</div>
    </div>

    <div class="field group-orange"
         style="grid-row: 1; grid-column: 5;"
         data-title="Mensa"
         data-type="Ort"
         data-text="Tabletts, Stimmen, GerÃ¼che. Hier mischen sich alle â€“ und man ist doch nicht unsichtbar.">
      <div class="field-label">Essen</div>
      <div class="field-name">Mensa</div>
    </div>

    <div class="field event"
         style="grid-row: 1; grid-column: 4;"
         data-title="Chaos am Buffet"
         data-type="Ereignisfeld"
         data-text="Die Schlange stockt, Tabletts klappern, Stimmen Ã¼berlagern sich. Ziehe eine Ereignis-Karte.">
      <div class="field-label">Ereignis</div>
      <div class="field-name">Buffet-Chaos</div>
    </div>

    <div class="field group-orange"
         style="grid-row: 1; grid-column: 3;"
         data-title="Aula"
         data-type="Ort"
         data-text="Versammlungen, Reden, Auftritte â€“ die Schule tritt als BÃ¼hne auf.">
      <div class="field-label">Aula</div>
      <div class="field-name">Aula</div>
    </div>

    <div class="field group-orange"
         style="grid-row: 1; grid-column: 2;"
         data-title="Eingangsbereich"
         data-type="Ort"
         data-text="Hier beginnt und endet jeder Tag â€“ ein Tor ins Marianum.">
      <div class="field-label">Eingang</div>
      <div class="field-name">Schulhaus</div>
    </div>

    <div class="field corner special"
         style="grid-row: 1; grid-column: 1;"
         data-title="Nur zu Besuch"
         data-type="Ecke"
         data-text="Du bist vor dem Nachsitzen â€“ fÃ¼rs Erste nur zu Besuch.">
      NUR<br>ZU<br>BESUCH
    </div>

    <!-- LINKE SEITE (oben â†’ unten), Spalte 1 -->
    <div class="field group-pink"
         style="grid-row: 2; grid-column: 1;"
         data-title="Schlaftrakt"
         data-type="Ort"
         data-text="Nachts ist alles leiser â€“ und trotzdem bleibt vieles unausgesprochen wach.">
      <div class="field-label">Zimmer</div>
      <div class="field-name">Schlaftrakt</div>
    </div>

    <div class="field group-pink"
         style="grid-row: 3; grid-column: 1;"
         data-title="Innenflur"
         data-type="Ort"
         data-text="Ein Ãœbergang zwischen Zimmern â€“ und Rollen.">
      <div class="field-label">Gang</div>
      <div class="field-name">Innenflur</div>
    </div>

    <div class="field event"
         style="grid-row: 4; grid-column: 1;"
         data-title="Tag der offenen TÃ¼r"
         data-type="Ereignisfeld"
         data-text="Eltern wandern herum, alles wirkt wie eine BÃ¼hne. Ziehe eine Ereignis-Karte.">
      <div class="field-label">Ereignis</div>
      <div class="field-name">Offener Tag</div>
    </div>

    <div class="field group-pink"
         style="grid-row: 5; grid-column: 1;"
         data-title="Innenhof SÃ¼d"
         data-type="Ort"
         data-text="Ein kleiner, geschÃ¼tzter Ort â€“ und doch nie wirklich privat.">
      <div class="field-label">Hof</div>
      <div class="field-name">SÃ¼d-Hof</div>
    </div>

    <div class="field station"
         style="grid-row: 6; grid-column: 1;"
         data-title="Stadtbahnhof"
         data-type="Station"
         data-text="Nicht nur ZÃ¼ge, auch LebensentwÃ¼rfe fahren hier ab.">
      <div class="field-label">Station</div>
      <div class="field-name">Bahnhof</div>
    </div>

    <div class="field dolinar"
         style="grid-row: 7; grid-column: 1;"
         data-title="Klassenbuch-Eintrag"
         data-type="Dolinar-Feld"
         data-text="Dein Name als Drohung â€“ wie ein leises Hintergrundrauschen. Ziehe eine Dolinar-Karte.">
      <div class="field-label">Dolinar</div>
      <div class="field-name">Klassenbuch</div>
    </div>

    <div class="field group-darkblue"
         style="grid-row: 8; grid-column: 1;"
         data-title="Informatikraum"
         data-type="Ort"
         data-text="Hier verschiebt sich der Blick von analog zu digital â€“ und wieder zurÃ¼ck.">
      <div class="field-label">Raum</div>
      <div class="field-name">Informatik</div>
    </div>

    <div class="field event"
         style="grid-row: 9; grid-column: 1;"
         data-title="Regen Ã¼ber Wien"
         data-type="Ereignisfeld"
         data-text="PlÃ¤ne werden rutschig, Wege verÃ¤ndern sich. Ziehe eine Ereignis-Karte.">
      <div class="field-label">Ereignis</div>
      <div class="field-name">Regen</div>
    </div>

    <div class="field group-darkblue"
         style="grid-row: 10; grid-column: 1;"
         data-title="Musiksaal"
         data-type="Ort"
         data-text="Proben, Stimmen, ein eigener Rhythmus.">
      <div class="field-label">Musik</div>
      <div class="field-name">Musiksaal</div>
    </div>

  </div>

  <!-- MODAL fÃ¼r Feldinfos beim Klicken -->
  <div class="modal-backdrop" id="field-modal">
    <div class="modal">
      <div class="modal-type" id="modal-type"></div>
      <div class="modal-title" id="modal-title"></div>
      <div class="modal-text" id="modal-text"></div>
      <div class="modal-actions">
        <button type="button" id="modal-close">SchlieÃŸen</button>
      </div>
    </div>
  </div>

  <footer>
    Â© 2025 â€“ Marianumopoly
  </footer>

  <!-- Script: Field-Modal (klicken auf Felder) -->
  <script>
    const fieldModalBackdrop = document.getElementById('field-modal');
    const fieldModalTitle = document.getElementById('modal-title');
    const fieldModalType = document.getElementById('modal-type');
    const fieldModalText = document.getElementById('modal-text');
    const fieldModalClose = document.getElementById('modal-close');

    function openFieldModal(title, type, text) {
      fieldModalTitle.textContent = title || '';
      fieldModalType.textContent = type || '';
      fieldModalText.textContent = text || '';
      fieldModalBackdrop.style.display = 'flex';
    }

    function closeFieldModal() {
      fieldModalBackdrop.style.display = 'none';
    }

    document.querySelectorAll('.field').forEach(field => {
      field.addEventListener('click', (e) => {
        // Wenn HUD-Buttons geklickt werden, nicht das Feldmodal Ã¶ffnen
        if (e.target.tagName.toLowerCase() === 'button') return;
        openFieldModal(
          field.getAttribute('data-title'),
          field.getAttribute('data-type'),
          field.getAttribute('data-text')
        );
      });
    });

    fieldModalClose.addEventListener('click', closeFieldModal);
    fieldModalBackdrop.addEventListener('click', e => {
      if (e.target === fieldModalBackdrop) closeFieldModal();
    });
    document.addEventListener('keydown', e => {
      if (e.key === 'Escape') closeFieldModal();
    });
  </script>

  <!-- Vollautomatische Spiel-Engine -->
  <script src="engine.js"></script>

</body>
</html>
